---
- shell:
  - command: mkdir -p ~/.local/bin ~/.ssh ~/.subversion ~/.gnupg
    description: Create directories
  - command: chmod 0700 ~/.ssh
    description: set ~/.ssh permissions

- clean:
  - "~"
  - "~/.local/bin"
  - "~/.ssh"
  - "~/.subversion"
  - "~/.gnupg"
  - "~/.local/etc"

- link:
    ~/.astylerc: astylerc
    ~/.bash_completion: bash/completion
    ~/.bash_logout: bash/logout
    ~/.bash_profile: bash/profile
    ~/.bashrc: bash/bashrc
    ~/.ctags: ctags
    ~/.gitconfig: git/config
    ~/.gnupg/gpg.conf: gnupg/gpg.conf
    ~/.gvimrc: gvimrc
    ~/.inputrc: inputrc
    ~/.perltidyrc: perltidyrc
    ~/.ssh/rc: ssh/rc
    ~/.subversion/config: subversion/config
    ~/.tigrc: git/tigrc
    ~/.tmux.conf: tmux.conf
    ~/.vimrc: vimrc
    ~/.Xresources: X11/Xresources
    ~/.zshrc: zshrc

- shell:
  - command: git submodule update --init --recursive
    description: Update submodules
